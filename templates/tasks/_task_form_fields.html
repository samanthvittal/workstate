<!-- Reusable task form fields include -->

<!-- Title Field -->
<div>
    <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
        {{ form.title.label }}
    </label>
    {{ form.title }}
    {% if form.title.help_text %}
        <p class="mt-1 text-sm text-gray-500">{{ form.title.help_text }}</p>
    {% endif %}
    {% if form.title.errors %}
        <div class="mt-2 text-sm text-red-600">
            {{ form.title.errors }}
        </div>
    {% endif %}
</div>

<!-- Description Field -->
<div>
    <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
        {{ form.description.label }}
    </label>
    {{ form.description }}
    {% if form.description.help_text %}
        <p class="mt-1 text-sm text-gray-500">{{ form.description.help_text }}</p>
    {% endif %}
    {% if form.description.errors %}
        <div class="mt-2 text-sm text-red-600">
            {{ form.description.errors }}
        </div>
    {% endif %}
</div>

<!-- Due Date and Time Fields (Side by side on desktop, stacked on mobile) -->
<div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
    <!-- Due Date -->
    <div>
        <label for="{{ form.due_date.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
            {{ form.due_date.label }}
        </label>
        {{ form.due_date }}
        {% if form.due_date.help_text %}
            <p class="mt-1 text-sm text-gray-500">{{ form.due_date.help_text }}</p>
        {% endif %}
        {% if form.due_date.errors %}
            <div class="mt-2 text-sm text-red-600">
                {{ form.due_date.errors }}
            </div>
        {% endif %}
    </div>

    <!-- Due Time (Conditionally shown via Alpine.js) -->
    <div x-show="$refs.due_date && $refs.due_date.value">
        <label for="{{ form.due_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
            {{ form.due_time.label }}
        </label>
        {{ form.due_time }}
        {% if form.due_time.help_text %}
            <p class="mt-1 text-sm text-gray-500">{{ form.due_time.help_text }}</p>
        {% endif %}
        {% if form.due_time.errors %}
            <div class="mt-2 text-sm text-red-600">
                {{ form.due_time.errors }}
            </div>
        {% endif %}
    </div>
</div>

<!-- Priority Field with Visual Indicators -->
<div>
    <label for="{{ form.priority.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
        {{ form.priority.label }}
    </label>

    <!-- Priority as Select Dropdown with Color Context -->
    <div class="relative">
        {{ form.priority }}
        <div class="mt-2 flex flex-wrap gap-2 text-sm">
            <span class="inline-flex items-center px-2 py-1 rounded bg-red-600 text-white">
                P1 - Urgent
            </span>
            <span class="inline-flex items-center px-2 py-1 rounded bg-orange-600 text-white">
                P2 - High
            </span>
            <span class="inline-flex items-center px-2 py-1 rounded bg-yellow-600 text-gray-900">
                P3 - Medium
            </span>
            <span class="inline-flex items-center px-2 py-1 rounded bg-blue-600 text-white">
                P4 - Low
            </span>
        </div>
    </div>

    {% if form.priority.help_text %}
        <p class="mt-1 text-sm text-gray-500">{{ form.priority.help_text }}</p>
    {% endif %}
    {% if form.priority.errors %}
        <div class="mt-2 text-sm text-red-600">
            {{ form.priority.errors }}
        </div>
    {% endif %}
</div>

<!-- Tags Field -->
<div>
    <label for="{{ form.tags_input.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
        <div class="flex items-center gap-2">
            <!-- Tag Icon from Heroicons -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
            </svg>
            <span>{{ form.tags_input.label }}</span>
        </div>
    </label>
    {{ form.tags_input }}
    {% if form.tags_input.help_text %}
        <p class="mt-1 text-sm text-gray-500">{{ form.tags_input.help_text }}</p>
    {% endif %}
    {% if form.tags_input.errors %}
        <div class="mt-2 text-sm text-red-600">
            {{ form.tags_input.errors }}
        </div>
    {% endif %}
    <div class="mt-2 text-xs text-gray-500">
        <span class="font-medium">Examples:</span>
        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 ml-1">work</span>
        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 ml-1">urgent</span>
        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800 ml-1">client-a</span>
    </div>
</div>
